define ("tool_moodlenet/select_page",["core/ajax","core/templates","tool_moodlenet/selectors","core/notification"],function(a,b,c,d){var e=function(a){return b.renderPix("courses","tool_moodlenet").then(function(a){return a}).then(function(a){var c=document.createElement("div");c.innerHTML=a.trim();return b.render("core_course/no-courses",{nocoursesimg:c.firstChild.src})}).then(function(c,d){b.replaceNodeContents(a,c,d);a.classList.add("mx-auto");a.classList.add("w-25")})},f=function(a,c,d){if(d){c.forEach(function(a){a.viewurl+="&type="+d})}return b.render("tool_moodlenet/view-cards",{courses:c}).then(function(c,d){b.replaceNodeContents(a,c,d);a.classList.remove("mx-auto");a.classList.remove("w-25")})},g=function(b,g,h,i){var j=g.querySelector(c.region.searchIcon),k=g.querySelector(c.region.clearIcon);if(""!==b){j.classList.add("d-none");k.parentElement.classList.remove("d-none")}else{j.classList.remove("d-none");k.parentElement.classList.add("d-none")}var l={searchvalue:b,resourceurl:g.dataset.var};a.call([{methodname:"tool_moodlenet_search_courses",args:l}])[0].then(function(a){if(0===a.courses.length){return e(h)}else{return f(h,a.courses,i)}}).catch(d.exception)},h=function(a){var b=a.querySelector(c.region.searchInput),d=a.querySelector(c.region.courses),e=a.querySelector(c.region.clearIcon);e.addEventListener("click",function(){b.value="";g("",a,d)});b.addEventListener("input",j(function(){g(b.value,a,d)},300))},i=function(a,b){var d=a.querySelector(c.region.courses);g("",a,d,b)},j=function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function later(){d=null;if(!c){a.apply(e,f)}},b);if(g){a.apply(e,f)}}};return{init:function init(a){var b=document.querySelector(c.region.selectPage);h(b);i(b,a)}}});
//# sourceMappingURL=select_page.min.js.map
