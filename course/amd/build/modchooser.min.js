define ("core_course/modchooser",["core/yui","jquery","core_course/chooser_dialogue","core/custom_interaction_events"],function(a,b,c,d){var f={PAGECONTENT:"body",SECTION:null,SECTIONMODCHOOSER:"span.section-modchooser-link",SITEMENU:".block_site_main_menu",SITETOPIC:"div.sitetopic"},g=function(a,d){var e;if(b(a.currentTarget).parents(f.SITETOPIC).length){e=1}else if(b(a.currentTarget).parents(f.SECTION).length){var g=b(a.currentTarget).parents(f.SECTION);e=g.attr("id").replace("section-","")}else if(b(a.currentTarget).parents(f.SITEMENU).length){e=0}if(e!==void 0){d.options.forEach(function(a){a.urls.addoption+="&section="+e})}c.displayChooser(a,d)},h=function(a,c){var e=b(a).find(f.SECTIONMODCHOOSER);if(!e.length){return}var h=b(e).children().wrapAll("<a href='#' />");d.define(h,[d.events.activate,d.events.keyboardActivate]);h.on(d.events.activate,function(a){a.preventDefault();g(a,c)});h.on(d.events.keyboardActivate,function(a){a.preventDefault();g(a,c)})},i=function(a,c){if(!c){c=f.PAGECONTENT}b(c).find(f.SITETOPIC).each(function(){h(this,a)});if(f.SECTION){b(c).find(f.SECTION).each(function(){h(this,a)})}b(c).find(f.SITEMENU).each(function(){h(this,a)})};return{init:function initializer(b){a.use("moodle-course-coursebase",function(){var a=M.course.format.get_sectionwrapperclass();if(a){f.SECTION="."+a}i(b)})}}});
//# sourceMappingURL=modchooser.min.js.map
