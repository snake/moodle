{"version":3,"sources":["../src/tool_endpoints.js"],"names":["init","container","document","querySelector","CustomEvents","define","events","activate","on","e","data","originalEvent","preventDefault","id","currentTarget","val","innerText","title","navigator","clipboard","writeText"],"mappings":"oMAsBA,OAEA,O,mDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAO,CAEvB,GAAIC,CAAAA,CAAS,CAAGC,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAhB,CACAF,CAAS,CAAG,cAAEA,CAAF,CAAZ,CACAG,UAAaC,MAAb,CAAoBJ,CAApB,CAA+B,CAACG,UAAaE,MAAb,CAAoBC,QAArB,CAA/B,EAEAN,CAAS,CAACO,EAAV,CAAaJ,UAAaE,MAAb,CAAoBC,QAAjC,CAA2C,iBAA3C,CAA8D,SAASE,CAAT,CAAYC,CAAZ,CAAkB,CAC5EA,CAAI,CAACC,aAAL,CAAmBC,cAAnB,GAD4E,GAGxEC,CAAAA,CAAE,CAAGJ,CAAC,CAACK,aAAF,CAAgBD,EAHmD,CAIxEE,CAAG,CAAGb,QAAQ,CAACC,aAAT,CAAuB,sBAAwBU,CAA/C,EAAmDG,SAJe,CAKxEC,CAAK,CAAGf,QAAQ,CAACC,aAAT,CAAuB,2BAA6BU,CAApD,EAAwDG,SALQ,CAM5EE,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BL,CAA9B,EAGA,UAAOE,CAAK,CAAE,sBAAd,CACH,CAVD,CAWH,CAjBM,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Module providing the 'copy to clipboard' action to URLs on the 'Tool registration' admin settings page.\n *\n * @module     enrol_lti/tool_endpoints\n * @package    enrol_lti\n * @copyright  2020 Jake Dallimore <jrhdallimore@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport CustomEvents from 'core/custom_interaction_events';\nimport {add as notice} from 'core/toast';\nimport $ from 'jquery';\n\nexport const init = () =>  {\n    // Add activation events for copy to clipboard.\n    var container = document.querySelector('#lti_tool_endpoints');\n    container = $(container);\n    CustomEvents.define(container, [CustomEvents.events.activate]);\n\n    container.on(CustomEvents.events.activate, \"[role='button']\", function(e, data) {\n        data.originalEvent.preventDefault();\n\n        var id = e.currentTarget.id;\n        var val = document.querySelector(\"#lti_tool_endpoint_\" + id).innerText;\n        var title = document.querySelector(\"#lti_tool_endpoint_name_\" + id).innerText;\n        navigator.clipboard.writeText(val);\n\n        // Confirm copy.\n        notice(title+ \" copied to clipboard\");\n    });\n};\n"],"file":"tool_endpoints.min.js"}