{"version":3,"sources":["../src/content_select.js"],"names":["registerEventHandlers","document","addEventListener","e","modcheckbox","target","closest","gradecheckbox","id","value","querySelector","checked","init"],"mappings":"0IAwBMA,CAAAA,CAAqB,CAAG,UAAM,CAChCC,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,CAAoC,SAAAC,CAAC,CAAI,IACjCC,CAAAA,CAAW,CAAGD,CAAC,CAACE,MAAF,CAASC,OAAT,CAAiB,yCAAjB,CADmB,CAEjCC,CAAa,CAAG,IAFiB,CAGrC,GAAI,CAACH,CAAL,CAAkB,CACdG,CAAa,CAAGJ,CAAC,CAACE,MAAF,CAASC,OAAT,CAAiB,wCAAjB,CACnB,CACD,GAAIF,CAAJ,CAAiB,IACPI,CAAAA,CAAE,CAAGJ,CAAW,CAACK,KADV,CAEPF,CAAa,CAAGN,QAAQ,CAACS,aAAT,CAAuB,iDAAmDF,CAAnD,CAAwD,IAA/E,CAFT,CAGb,GAAID,CAAJ,CAAmB,CACfA,CAAa,CAACI,OAAd,CAAwBP,CAAW,CAACO,OACvC,CACJ,CAND,IAMO,IAAIJ,CAAJ,CAAmB,IAChBC,CAAAA,CAAE,CAAGD,CAAa,CAACE,KADH,CAEhBL,CAAW,CAAGH,QAAQ,CAACS,aAAT,CAAuB,kDAAoDF,CAApD,CAAyD,IAAhF,CAFE,CAGtB,GAAID,CAAa,CAACI,OAAlB,CAA2B,CACvBP,CAAW,CAACO,OAAZ,GACH,CACJ,CANM,IAMA,CAEN,CACJ,CArBD,CAsBH,C,QAEmB,QAAPC,CAAAA,IAAO,EAAM,CACtBZ,CAAqB,EACxB,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Module providing checkbox autoselection behaviour to the table on the select content deep linking view, launch_deeplink.php.\n *\n * @module     enrol_lti/content_select\n * @package    enrol_lti\n * @copyright  2021 Jake Dallimore <jrhdallimore@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n// Register the checkbox change events allowing the automatic selection/deselection of the\n// 'add to gradebook' and 'add to course' checkboxes when selecting an activity/resource.\nconst registerEventHandlers = () => {\n    document.addEventListener('change', e => {\n        let modcheckbox = e.target.closest(\"input[type='checkbox'][name^='modules']\");\n        let gradecheckbox = null;\n        if (!modcheckbox) {\n            gradecheckbox = e.target.closest(\"input[type='checkbox'][name^='grades']\");\n        }\n        if (modcheckbox) {\n            const id = modcheckbox.value;\n            const gradecheckbox = document.querySelector(\"input[type='checkbox'][name^='grades'][value='\" + id + \"']\");\n            if (gradecheckbox) {\n                gradecheckbox.checked = modcheckbox.checked;\n            }\n        } else if (gradecheckbox) {\n            const id = gradecheckbox.value;\n            const modcheckbox = document.querySelector(\"input[type='checkbox'][name^='modules'][value='\" + id + \"']\");\n            if (gradecheckbox.checked) {\n                modcheckbox.checked = true;\n            }\n        } else {\n            return;\n        }\n    });\n};\n\nexport const init = () => {\n    registerEventHandlers();\n};\n"],"file":"content_select.min.js"}