{"version":3,"sources":["../src/platform_registry.js"],"names":["init","container","document","querySelector","CustomEvents","define","events","activate","on","e","id","currentTarget","val","value","title","navigator","clipboard","writeText"],"mappings":"uMAuBA,OAEA,O,mDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAO,CAEvB,GAAIC,CAAAA,CAAS,CAAGC,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,CAAhB,CACAF,CAAS,CAAG,cAAEA,CAAF,CAAZ,CACAG,UAAaC,MAAb,CAAoBJ,CAApB,CAA+B,CAACG,UAAaE,MAAb,CAAoBC,QAArB,CAA/B,EAEAN,CAAS,CAACO,EAAV,CAAaJ,UAAaE,MAAb,CAAoBC,QAAjC,CAA2C,iBAA3C,CAA8D,SAASE,CAAT,CAAY,IAClEC,CAAAA,CAAE,CAAGD,CAAC,CAACE,aAAF,CAAgBD,EAD6C,CAElEE,CAAG,CAAGV,QAAQ,CAACC,aAAT,CAAuB,0BAA4BO,CAAnD,EAAuDG,KAFK,CAGlEC,CAAK,CAAGZ,QAAQ,CAACC,aAAT,CAAuB,0BAA4BO,CAAnD,EAAuDI,KAHG,CAItEC,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BL,CAA9B,EAGA,UAAOE,CAAK,CAAE,sBAAd,CACH,CARD,CASH,CAfM,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module to enhance the platform registrations page with custom interaction events.\n *\n * @module     enrol_lti/platform_registry\n * @package    enrol_lti\n * @copyright  2020 Jake Dallimore <jrhdallimore@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport CustomEvents from 'core/custom_interaction_events';\nimport {add as notice} from 'core/toast';\nimport $ from 'jquery';\n\nexport const init = () =>  {\n    // Add activation events for copy to clipboard.\n    var container = document.querySelector('#lti_platform_registrations');\n    container = $(container);\n    CustomEvents.define(container, [CustomEvents.events.activate]);\n\n    container.on(CustomEvents.events.activate, \"[role='button']\", function(e) {\n        var id = e.currentTarget.id;\n        var val = document.querySelector(\"#lti_platform_registry_\" + id).value;\n        var title = document.querySelector(\"#lti_platform_registry_\" + id).title;\n        navigator.clipboard.writeText(val);\n\n        // Confirm copy.\n        notice(title+ \" copied to clipboard\");\n    });\n};\n"],"file":"platform_registry.min.js"}