{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template core_ltix/contentitem_selection

    Provides a template for the creation of a new external tool instance via the content-item message.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * url The URL the iframe has to load.
    * postData The JSON object that contains the information to be POSTed for the ContentItemSelectionRequest.

    Example context (json):
    {
        "url": "contentitemselection.php",
        "postData": {
            "toolid": "1",
            "contextid": "1",
            "defaulttitle": "Default content item title",
            "defaulttext": "Default content item description"
        }
    }

}}
<div id="contentitem-container" class="contentitem-container">
    <div class="contentitem-loading-container loading-screen">
        {{> core_ltix/loader }}
        <p class="loading-text">{{#str}} loadinghelp, moodle {{/str}}</p>
        <p id="tool-loading-failed" class="hidden">{{#str}} register_warning, core_ltix {{/str}}</p>
    </div>
    <div class="contentitem-page">
        <iframe id="contentitem-page-iframe" name="contentitem-page-iframe" class="hidden" tabindex="0">
        </iframe>
        <form target="contentitem-page-iframe" action="{{url}}" id="contentitem-request-form" method="post">
            <input type="hidden" name="id" value="{{postData.toolid}}" />
            <input type="hidden" name="contextid" value="{{postData.contextid}}" />
            <input type="hidden" name="title" value="{{postData.defaulttitle}}" />
            <input type="hidden" name="text" value="{{postData.defaulttext}}" />
        </form>
    </div>
</div>
